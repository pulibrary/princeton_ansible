---
install_ruby_from_source: true
ruby_version_override: "ruby-3.4.1"
solr_heap_setting: "20g"
zk_version: "3.4.13"
zk_download_url: "https://archive.apache.org/dist/zookeeper/zookeeper-{{ zk_version }}/zookeeper-{{ zk_version }}.tar.gz"
zk_versioned_dir: "/opt/zookeeper-{{ zk_version }}"
# more granular option would be:
# solr_java_memory: '-Xms16g -Xmx20g'
java_type: jdk
solr_cloud_download_version: 8.4.1
solr_log4j_path: "/solr/log4j2.xml"
lib_zk1_host_name: sandbox-zk1.lib.princeton.edu
lib_zk2_host_name: sandbox-zk2.lib.princeton.edu
lib_zk3_host_name: sandbox-zk3.lib.princeton.edu
lib_zk1_host: 172.20.80.51
lib_zk2_host: 172.20.80.53
lib_zk3_host: 172.20.80.58
solr_znode: solr8
cjkfoldingfilter: https://github.com/pulibrary/pul_solr/raw/master/solr8_jars/CJKFoldingFilter.jar
# gcsfuse logrotate
gcsfuse_directory: "/var/log/gcsfuse"

solr8_gcsfuse_logrotate_rules:
  - name: "gcsfuse"
    paths:
      - "{{ gcsfuse_directory }}/*.log"
    options:
      rotate: "{{ logrotate_global_defaults.rotate }}"
      maxsize: "{{ logrotate_global_defaults.maxsize }}"
      create_mode: "{{ logrotate_global_defaults.create_mode }}"
      create_owner: "deploy"
      create_group: "deploy"
      su_user: "{{ logrotate_global_defaults.su_user }}"
      su_group: "{{ logrotate_global_defaults.su_group }}"
      postrotate: |
        systemctl reload solr-gcsfuse.service 2>/dev/null || true
