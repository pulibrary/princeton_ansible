consul_version: '1.17.1'
consul_group_name: 'nomad_cluster'
consul_autopilot_enable: true
consul_autopilot_cleanup_dead_Servers: true
consul_dnsmasq_enable: true # proxy dns api commands to the consul dns port
consul_client_address: '0.0.0.0'
consul_acl_enable: true
consul_acl_master_token: "{{ vault_consul_acl_management_token }}"
consul_acl_replication_token: "{{ vault_consul_acl_replication_token }}"
consul_acl_default_policy: deny
consul_dns_token: "{{ vault_consul_dns_token }}"
nomad_use_consul: true
nomad_version: 1.7.1
nomad_raft_protocol: 3
nomad_group_name: 'nomad_cluster'
nomad_bind_address: '0.0.0.0'
nomad_consul_token: "{{ vault_nomad_consul_token }}"
nomad_acl_enabled: true
pul_nomad_management_token: "{{ vault_pul_nomad_management_token }}"
tower_github_token: "{{ vault_tower_github_token }}"
## Don't install common packages, this just runs containers.
common_packages: [jq]
deploy_user_uid: 1004
