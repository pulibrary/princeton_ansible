---
- name: Simple annotation | install dependencies
  apt:
    name:
      - maven
    state: present

- name: Simple annotation | create package directory
  file:
    path: "/opt/simple_annotation"
    state: "directory"

- name: Simple annotation | Download and untar
  unarchive:
    remote_src: true
    src: "{{ simple_annotation_download_url }}"
    dest: "/opt/simple_annotation"
    creates: "/opt/simple_annotation/SimpleAnnotationServer-server-{{ simple_annotation_tag }}"

- name: Simple annotation | Start jetty
  shell: cd /opt/simple_annotation/SimpleAnnotationServer-server-{{ simple_annotation_tag }} && mvn jetty:run