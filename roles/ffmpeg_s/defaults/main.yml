---
# defaults file for roles/ffmpeg_s
ffmpeg_s_prefix: /opt/ffmpeg

# Internal dirs
ffmpeg_s_sources_dir: "{{ ffmpeg_s_prefix }}/sources"
ffmpeg_s_build_dir: "{{ ffmpeg_s_prefix }}/build"
ffmpeg_s_bin_dir: "{{ ffmpeg_s_prefix }}/bin"

# Number of make jobs (defaults to vCPUs)
ffmpeg_s_make_jobs: "{{ ansible_processor_vcpus | default(2) }}"

# Linker to use for ffmpeg (needed for libvmaf static build)
ffmpeg_s_ld: "g++"

# Whether to manage symlinks in /usr/local/bin
ffmpeg_s_manage_symlinks: true

# Paths for symlinks
ffmpeg_s_symlink_targets:
  - ffmpeg
  - ffprobe
  - ffplay

# "snapshot" uses ffmpeg-snapshot.tar.bz2
# e.g. "8.0.1" will use ffmpeg-8.0.1.tar.bz2
ffmpeg_s_version: "8.0.1"

# Derived names/paths based on version
ffmpeg_s_source_basename: "{{ ffmpeg_s_version }}"

ffmpeg_s_tarball: "{{ ffmpeg_s_source_basename }}.tar.bz2"
ffmpeg_s_tarball_url: "https://ffmpeg.org/releases/{{ ffmpeg_s_tarball }}"
ffmpeg_s_source_dir: "{{ ffmpeg_s_sources_dir }}/{{ ffmpeg_s_source_basename }}"

# Marker file so configure+build is idempotent per version
ffmpeg_s_built_marker: "{{ ffmpeg_s_build_dir }}/.ffmpeg-built-{{ ffmpeg_s_version }}"
