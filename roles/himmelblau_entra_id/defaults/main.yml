---
# defaults file for roles/himmelblau_entra_id
himmelblau_domain: "princeton.edu"
himmelblau_tenant_id: "2ff60116-7431-425d-b5af-077d7791bda4"
himmelblau_show_enrollment_instructions: true

# Service name differs: Ubuntu uses "ssh", RHEL-family uses "sshd"
himmelblau_ssh_service: >-
  {{ 'sshd' if ansible_os_family in ['RedHat'] else 'ssh' }}

# Ubuntu Repos
himmelblau_ubuntu_repo_baseurl: "https://packages.himmelblau-idm.org/stable/latest/deb/ubuntu22.04"
himmelblau_ubuntu_key_url: "https://packages.himmelblau-idm.org/himmelblau.asc"
himmelblau_ubuntu_keyring: "/usr/share/keyrings/himmelblau.gpg"
himmelblau_ubuntu_repo_file: "himmelblau"

# Rocky
himmelblau_rocky_repo_baseurl: "https://packages.himmelblau-idm.org/stable/latest/rpm/rocky{{ ansible_distribution_major_version }}/"
himmelblau_rpm_signing_key: "https://packages.himmelblau-idm.org/himmelblau.asc"

# ssh config
allow_users: ["ac2754", "ar1789", "fkayiwa", "gpmenos", "jkazmier", "vk4273"]
allow_groups: []
allow_users_enable: true
sshd_config_d_path: /etc/ssh/sshd_config.d
allow_users_filename: 99-allow-users-global.conf

# Ubuntu packages
himmelblau_packages_deb:
  - himmelblau
  - himmelblau-qr-greeter
  - himmelblau-sshd-config
  - himmelblau-sso
  - nss-himmelblau
  - pam-himmelblau

# Rocky packages
himmelblau_packages_rpm:
  - himmelblau
  - himmelblau-qr-greeter
  - himmelblau-sshd-config
  - himmelblau-sso
  - nss-himmelblau
  - pam-himmelblau
