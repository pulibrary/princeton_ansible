---
ojs_version: "3.2.0-3"
apache:
  docroot: "/var/www/ojs"
  servername: "{{ ansible_hostname }}"

server:
  timezone: "America/New_York"

deploy_ojs_database:
  driver: "postgresql"
  host: localhost
  username: ojs_db_user
  password: "{{ ojs_db_password | default('change_me') }}"
  name: ojs_db

deploy_ojs_smtp:
  server: "ssl://smtp.example.edu"
  port: 465
  auth: PLAIN
  username: "noreply@example.edu"
  password: "secret"

deploy_ojs_use_catcha: false

deploy_ojs_dest: "{{ ojs_home }}"
deploy_ojs_url: "localhost"
deploy_ojs_files: "{{ ojs_file_uploads }}"
deploy_ojs_new_installation: true
deploy_ojs_user: "{{ ojs_site_adminname }}"
deploy_ojs_password: "{{ ojs_site_adminpassword }}"
deploy_ojs_email: "{{ ojs_site_email }}"
deploy_ojs_locale: 'en_US'
deploy_ojs_protocol: http

ojs_file_uploads: "/var/local/files"
ojs_home: "/var/www/ojs-{{ ojs_version }}"
postgresql_databases:
  - name: ojs_db
postgresql_users:
  - name: ojs_db_user
    password: "{{ ojs_db_password | default('change_me') }}"
    db: ojs_db
    priv: "ALL"
    role_attr_flags: "SUPERUSER,INHERIT,NOCREATEDB,NOCREATEROLE,NOREPLICATION"
postgresql_hba_entries:
  - type: local
    database: all
    user: postgres
    method: ident
  - type: host
    database: all
    user: postgres
    address: 127.0.0.1/32
    method: ident
  - type: host
    database: ojs_db
    user: ojs_db_user
    address: 127.0.0.1/32
    method: md5
postgres_version: "12"
ojs_site_email: "{{ pul_ojs_site_email | default('devnull') }}"
ojs_site_adminname: "{{ pul_ojs_site_adminname | default('admin') }}"
ojs_site_adminpassword: "{{ pul_ojs_site_adminpassword | default('change_me_too') }}"
ojs_db_password: "change_me"
ojs_site_repoid: "pul_ojs"
ojs_db_host: "{{ db_host | default('localhost') }}"
application_dbuser_name: "ojs_db_user"
application_dbuser_password: "change_me"
application_db_name: "ojs_db"
