---
- name: Install Elucidate dependencies
  # apt:
  #   name:
  #
  #   state: present
- name: Create Elucidate package directory
  file:
    path: "/opt/elucidate"
    state: "directory"
- name: Download and untar Elucidate
  unarchive:
    remote_src: true
    src: "{{ elucidate_download_url }}"
    dest: "/opt/elucidate"
    creates: "/opt/elucidate/elucidate-server-{{ elucidate_version }}"
- name: Build elucidate-parent
  shell: cd /opt/elucidate/elucidate-server-{{ elucidate_version }}/elucidate-parent && mvn clean package install -U
- name: Build elucidate-common-lib
  shell: cd /opt/elucidate/elucidate-server-{{ elucidate_version }}/elucidate-common-lib && mvn clean package install -U
- name: Build elucidate-converter
  shell: cd /opt/elucidate/elucidate-server-{{ elucidate_version }}/elucidate-converter && mvn clean package install -U
