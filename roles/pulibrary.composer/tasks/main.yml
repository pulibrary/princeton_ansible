---
- name: create composer path
  file:
    path: '{{ composer_path }}'
    state: directory

- name: get composer file
  get_url:
    url: 'https://getcomposer.org/installer'
    dest: '{{ composer_path }}/composer-setup.php'
    checksum: 'md5:{{ md5_value }}'

- name: install composer
  command: php composer-setup.php --quiet
  args:
    chdir: '{{ composer_path }}'

- name: create symbolic link of composer file
  file:
    src: '{{ composer_path }}/composer.phar'
    dest: '{{ composer_path }}/composer'
    state: link
