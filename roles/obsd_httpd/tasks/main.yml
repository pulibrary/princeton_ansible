---
# tasks file for obsd_httpd
- name: obsd_httpd | enable httpd
  ansible.builtin.service:
    name: "httpd"
    enabled: true
    arguments: "{{ httpd_openbsd_flags }}"

- name: obsd_httpd | create or remove log directories
  ansible.builtin.file:
    path: "{{ item.path }}"
    mode: "{{ item.mode }}"
    owner: "{{ item.owner }}"
    group: "{{ item.group }}"
    state: "{% if item.state == 'present' %}directory{% else %}{{ item.state }}{% endif %}"
  loop: "{{ httpd_openbsd_log_directories }}"
