---
galaxy_info:
  author: Princeton University Library
  description: Rails App Role

  license: MIT

  min_ansible_version: 2.2

  platforms:
    - name: Ubuntu
      versions:
        - 16.04
        - 18.04
dependencies:
  - role: 'pulibrary.common'
  - role: 'pulibrary.bind9'
  - role: 'pulibrary.deploy-user'
  - role: 'pulibrary.passenger'
  - role: 'pulibrary.postgresql'
    vars:
      postgresql_databases:
        - name: demo_db
      postgresql_users:
        - name: demo_db
          password: "ToughToGusspAsSwOrD"
        - name: demo_db
          password: "ToughToGusspAsSwOrD"
          db: demo_db
      postgresql_hba_entries:
        - type: local
          database: all
          user: postgres
          method: ident
        - type: host
          database: demo_db
          user: demo_db
          address: 127.0.0.1/32
          method: md5
  - role: 'pulibrary.nodejs'
