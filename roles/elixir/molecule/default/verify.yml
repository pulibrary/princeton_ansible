---
- name: Verify
  hosts: all
  gather_facts: false
  tasks:
  - name: Erlang installed
    shell: |
      set -o pipefail
      elixir --version | grep "Erlang/OTP 23"
    register: result
    failed_when: result.rc != 0
    changed_when: false

  - name: Elixir installed
    shell: |
      set -o pipefail
      elixir --version | grep "Elixir 1.10.4"
    register: result
    failed_when: result.rc != 0
    changed_when: false
