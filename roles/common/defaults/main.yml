---
# defaults file for roles/common
ansible_distribution_release: jammy
dua_install_tag: "v2.30.0"
duf_version: "0.8.1"
fd_find_version: "9.0.0"
configured_dependencies: []
common_shared_packages:
  - curl
  - git
  - htop
  - jq
  - tmux
  - tree
  - unzip
  - vim
  - wget
  - zip
common_ubuntu_packages:
  - acl
  - build-essential
  - duf
  - libcurl4
  - libssl-dev
  - libyaml-dev
  - plocate
  - python3-apt
  - python3-pip
  - python-setuptools
  - silversearcher-ag
  - zlib1g-dev
common_rhel_packages:
  - "@Development tools"
  - libacl.x86_64
  - libyaml
  - openssl-libs
  - python3-devel
  - python3-pip
  - the_silver_searcher
# Logrotate configuration defaults
logrotate_global_defaults:
  rotate: 4
  weekly: true
  missingok: true
  notifempty: true
  compress: true
  delaycompress: true
  copytruncate: false
  create_mode: "0644"
  create_owner: "root"
  create_group: "root"
  sharedscripts: false
  postrotate: ""
  prerotate: ""

# Default logrotate rules - can be completely overridden
logrotate_rules:
  - name: "custom-application"
    paths:
      - "/var/log/myapp/*.log"
    options:
      rotate: "{{ logrotate_global_defaults.rotate }}"
      daily: true
      missingok: "{{ logrotate_global_defaults.missingok }}"
      notifempty: "{{ logrotate_global_defaults.notifempty }}"
      compress: "{{ logrotate_global_defaults.compress }}"
      delaycompress: "{{ logrotate_global_defaults.delaycompress }}"
      copytruncate: "{{ logrotate_global_defaults.copytruncate }}"
      create: true
      create_mode: "{{ logrotate_global_defaults.create_mode }}"
      create_owner: "{{ logrotate_global_defaults.create_owner }}"
      create_group: "{{ logrotate_global_defaults.create_group }}"
      postrotate: |
        systemctl reload myapp || true
