---
mysql_bind_address: 127.0.0.1
mysql_root_password: change_me
mariadb__server: ""
mariadb__port: "3306"
mariadb__client: "{{ maria_db_cluster_host | default('localhost') }}"
mariadb__delegate_to: '{{ mariadb__server
                          if (mariadb__server|d() and
                              mariadb__server != "localhost")
                          else inventory_hostname }}'
mariadb__client_charset_options:
  "default_character_set": "utf8mb4"
mariadb__client_remote_host_options:
  - name: "remote-host-options"
    state: "{{ 'present'
               if (not mariadb__register_version.stdout|d(false))
               else 'absent' }}"
    options:

      - name: "remote-host-not-tunnel"
        state: "{{ 'present'
                   if (mariadb__register_tunnel.rc|d() != 0)
                   else 'absent' }}"
        options:
          "host": "{{ mariadb__server }}"
          "port": "{{ mariadb__port }}"

      - name: "remote-host-tunnel"
        state: "{{ 'present'
                   if (mariadb__register_tunnel.rc|d() == 0)
                   else 'absent' }}"
        options:
          "host": "127.0.0.1"
          "port": "{{ mariadb__port }}"

      - name: "pki-options"
        comment: "Support for SSL connections"
        state: "{{ 'present' if mariadb__pki|bool else 'absent' }}"
        options:
          "ssl":
          "ssl_ca": "{{ mariadb__pki_path + '/' + mariadb__pki_realm + '/' + mariadb__pki_ca }}"
          "ssl_cert": "{{ mariadb__pki_path + '/' + mariadb__pki_realm + '/' + mariadb__pki_crt }}"
          "ssl_key": "{{ mariadb__pki_path + '/' + mariadb__pki_realm + '/' + mariadb__pki_key }}"
          "ssl_cipher": "{{ mariadb__pki_cipher }}"
mariadb__client_options:
  - section: "client"
    options:
      - "{{ mariadb__client_charset_options }}"
      - "{{ mariadb__client_remote_host_options }}"
      - "{{ mariadb__options }}"
mariadb__options: {}
mariadb__default_privileges: true
mariadb__default_privileges_aux: true
mariadb__default_privileges_grant: "ALL"
mariadb__databases: []
mariadb__dependent_databases: []
mariadb__users: []
mariadb__dependent_users: []
percona_xtra_root_password: ""

# application database params
app_db_user: 'user'
app_db_host: 'localhost'
app_db_port: '3306'
app_db_password: 'change_me'
