---
galaxy_info:
  author: Princeton University Library
  description: Approvals Role

  license: MIT

  min_ansible_version: 2.2

  platforms:
    - name: Ubuntu
      versions:
        - 16.04
        - 18.04
dependencies:
  - role: 'pulibrary.rails-app'
  - role: 'pulibrary.mailcatcher'
  - role: 'pulibrary.postgresql'
    vars:
      postgresql_databases:
        - name: "{{ app_db_name }}"
      postgresql_users:
        - name: "{{ app_db_user }}"
          password: "{{ app_db_password }}"
          db: "{{ app_db_name }}"
      postgresql_hba_entries:
        - type: local
          database: all
          user: postgres
          method: ident
        - type: host
          database: "{{ app_db_name }}"
          user: "{{ app_db_user }}"
          address: 127.0.0.1/32
          method: md5
  - role: 'pulibrary.samba'
