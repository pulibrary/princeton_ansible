---
# vars file for roles/nginxplus
nginx_signed_statement: "[signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg]"
nginx_setup_vars: [
  install, uninstall, upgrade,
]

nginx_default_setup: install

nginx_state_vals:
  install: present
  uninstall: absent
  upgrade: latest

nginx_state: "{{ nginx_state_vals[nginx_setup] | default(nginx_state_vals[nginx_default_setup]) }}"

# Supported NGINX Open Source distributions
# https://nginx.org/en/docs/install.html
nginx_distributions: [
  Alpine, Amazon, CentOS, Debian, FreeBSD, RedHat, SLES, Ubuntu,
  NetBSD, OpenBSD, DragonFlyBSD, HardenedBSD,
]

# Supported NGINX Plus distributions
# https://docs.nginx.com/nginx/technical-specs/
nginx_plus_distributions: [
  Alpine, Amazon, CentOS, Debian, FreeBSD, OracleLinux, RedHat, SLES, Ubuntu,
]

# Default NGINX signing key
nginx_default_signing_key_pgp: "https://cs.nginx.com/static/keys/nginx_signing.key"
nginx_default_signing_key_rsa_pub: "https://nginx.org/keys/nginx_signing.rsa.pub"

# Default NGINX Open Source repositories
nginx_default_repository_debian:
  - deb [arch={{ (ansible_facts['architecture'] == 'aarch64') | ternary('arm64', 'amd64') }} signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] https://nginx.org/packages/{{ (nginx_branch == 'mainline') | ternary('mainline/', '') }}{{ ansible_facts['distribution'] | lower }}/ {{ ansible_facts['distribution_release'] }} nginx
  - deb-src [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] https://nginx.org/packages/{{ (nginx_branch == 'mainline') | ternary('mainline/', '') }}{{ ansible_facts['distribution'] | lower }}/ {{ ansible_facts['distribution_release'] }} nginx

# Default NGINX Plus repositories
nginx_plus_default_repository_debian: deb [arch={{ (ansible_facts['architecture'] == 'aarch64') | ternary('arm64', 'amd64') }} signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] https://pkgs.nginx.com/plus/{{ ansible_facts['distribution'] | lower }} {{ ansible_facts['distribution_release'] }} nginx-plus


# Debian dependencies
nginx_debian_dependencies: [
  apt-transport-https, ca-certificates, gpg-agent,
]

# Default locations and versions when 'nginx_install_from' is set to 'source'.
# Set 'pcre_release' to 1 to install PCRE 1, modify the 'openssl_version' to move back to 1.1.1.
pcre_release: 2
pcre_version: pcre2-10.40
zlib_version: zlib-1.2.12
openssl_version: openssl-3.0.5

# Supported NGINX Open Source dynamic modules
nginx_modules_list: [
  geoip, image-filter, njs, perl, xslt,
]

# Supported NGINX Plus dynamic modules
nginx_plus_modules_list: [
  auth-spnego, brotli, encrypted-session, geoip, geoip2, headers-more, image-filter,
  lua, njs, opentracing, passenger, perl, prometheus, rtmp, subs-filter, xslt,
]
