---
# vars file for roles/nginxplus
#
# the 'sites' dictionary is used by the library.conf.j2 template
sites:
  # - name: example-prod
    ## 'servers' is a list of VMs that serve this site
    # servers:
    #   - example-prod1
    #   - example-prod2
    ## short_name is used for cookies for sticky learning
    # short_name: example
    ## zone_size is the amount of memory for the cache zone
    ## default is 64
    # zone_size: 128
    ## location defines the URL for the nginx location directive
    # location: "/"
    ## the template defaults to restricted configuration (VPN-only)
    ## set 'visibility: public' to create a site that is visible to the world
    # visibility: public
    ## default load balancing technique is round-robin
    ## see https://www.nginx.com/blog/choosing-nginx-plus-load-balancing-techniques/ for options
    # lbtechnique: least_time
    ## by default, app_protect is not enabled
    ## set app_protect: enabled to enable it
    # app_protect: enabled 
    ## error handling templates live in /etc/nginx/conf.d/templates/
    ## the default template for handling errors is errors.conf
    # error_handling_template: cdh-errors.conf
  - name: approvals-prod
    servers:
      - lib-approvals-prod1
      - lib-approvals-prod2
    short_name: approvals
    location: "/"
    visibility: public
  - name: approvals-staging
    servers:
      - lib-approvals-staging1
      - lib-approvals-staging2
    short_name: approvalsstaging
    location: "/"
  - name: annotations-prod
    servers:
      - annotations-prod1
      - annotations-prod2
    short_name: annotations
    location: "/"
    visibility: public
    lbtechnique: least_conn
  - name: annotations-staging
    servers:
      - annotations-staging1
    short_name: annotations-staging
    location: "/"
    visibility: private
    lbtechnique: least_conn
  - name: abid-staging
    servers:
      - annotations-staging1
    short_name: annotations-staging
    location: "/"
    visibility: private
    app_protect: enabled
  - name: bibdata-qa
    servers:
      # - bibdata-qa1
      - bibdata-qa2
    short_name: bibdataqa
    location: "/"
    visibility: private
    added_restrictions: htc_restrict.conf
