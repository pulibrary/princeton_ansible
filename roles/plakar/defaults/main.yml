---
# defaults file for roles/plakar
plakar_user: "pulsys"
plakar_apt_repo_url: "https://packages.plakar.io/deb"
plakar_apt_repo_suite: "stable"
plakar_apt_repo_component: "main"
plakar_apt_key_url: "https://packages.plakar.io/keys/plakar.gpg"
plakar_apt_key_path: "/usr/share/keyrings/plakar.gpg"

# Directory used to build the S3 plugin (ptar ends up here)
plakar_s3_build_dir: "/var/lib/plakar/plugins-build"

# S3 plugin version & arch for the expected ptar filename.
# Adjust arch or version as needed if upstream changes.
plakar_s3_plugin_version: "1.0.7"
plakar_s3_plugin_arch: "linux_amd64"

# Derived plugin filename (override if needed)
plakar_s3_plugin_filename: "s3_v{{ plakar_s3_plugin_version }}_{{ plakar_s3_plugin_arch }}.ptar"

# Whether to include configure_backup.yml
plakar_configure_backup: false

# Whether to actually run "plakar create" and "plakar backup"
# We turn this on for a one-time bootstrap run with a true
plakar_run_initial_backup: false

# Repository (AWS S3 API) config
plakar_store_name: ""
plakar_repo_bucket: "YOUR_S3_BUCKET_NAME"
plakar_repo_region: "us-east-1"

plakar_repo_access_key: "AWS_ACCESS_KEY"
plakar_repo_secret_key: "AWS_SECRET_KEY"

plakar_repo_passphrase: "CHANGE-ME-IN-VAULT"

# Snapshot config
plakar_snapshot_root: "/path/to/backup"
plakar_snapshot_excludes:
  - "*.tmp"
  - "cache/"
