---
# defaults file for ansible-mariadb-galera-cluster

# Defines if root logins should be allowed from any host
galera_allow_root_from_any: false

# Define bind address for galera cluster
galera_cluster_bind_address: '{{ hostvars[inventory_hostname]["ansible_" + galera_cluster_bind_interface]["ipv4"]["address"] }}'
# Define interface in which to bind
# ex. eth0|eth1|enp0s3|enp0s8
galera_cluster_bind_interface: '{{ interface | default ("eth0") }}'

# Define the name of the cluster
galera_cluster_name: '{{ pulmariadb }}'

# Defines debian db password
galera_deb_db_password: '{{ mariadb_mysql_root_password }}'

# Defines if we should enable the MariaDB repo or use version within OS repos.
galera_enable_mariadb_repo: true

# https://mariadb.com/kb/en/mariadb/wsrep_provider_options/
galera_extra_wsrep_provider_options: []
  # evs.auto_evict: 1
  # evs.delayed_margin: 'PT5S'
  # evs.delayed_keep_period: 'PT45S'

# By default all nodes are placed in the same segment (0)
# http://galeracluster.com/documentation-webpages/galeraparameters.html#gmcast-segment
galera_gmcast_segment: '0'

# Address to listen on for Incremental State Transfer.
# By default this is the <address>:<port+1> from wsrep_node_address.
galera_ist_recv_addr: '{{ galera_cluster_bind_address }}'
galera_ist_recv_addr_port: '{{ galera_wsrep_node_address_port|int + 1 }}'

galera_ist_recv_bind: '{{ galera_cluster_bind_address }}'

# Defines the which node should be considered the master in the cluster
# Used to bootstrap cluster
galera_mysql_master_node: 'maria1'

# Defines if the cluster should be reconfigured
galera_reconfigure_galera: false

galera_wsrep_node_address: '{{ galera_cluster_bind_address }}:{{ galera_wsrep_node_address_port }}'

galera_wsrep_node_address_port: 4567

# Define mysql root password
mariadb_mysql_root_password: '{{ mariadb_mysql_root_password }}'

mariadb_mysql_port: 3306
